[gd_scene load_steps=16 format=3 uid="uid://n71pj44frlcy"]

[ext_resource type="Script" path="res://Scripts/GameScripts/Game.gd" id="1_x62no"]
[ext_resource type="Texture2D" uid="uid://drtmsa1xt6qi" path="res://assets/img/sandtile.png" id="2_0dn8h"]
[ext_resource type="Script" path="res://Scripts/GameScripts/UI.gd" id="3_2nbfl"]
[ext_resource type="Script" path="res://Scripts/GameScripts/Camera2D.gd" id="3_lcjqh"]
[ext_resource type="Texture2D" uid="uid://b6ykw7dkf3wel" path="res://assets/img/portrait1.png" id="4_bo6rq"]
[ext_resource type="Texture2D" uid="uid://cqk7ctdyqbc4f" path="res://assets/img/aim.png" id="4_tu6ce"]
[ext_resource type="AudioStream" uid="uid://mqefpd1c2mxm" path="res://assets/sound/gunfire.mp3" id="6_8i1q1"]
[ext_resource type="AudioStream" uid="uid://b7abus5lh4s4w" path="res://assets/sound/damage.mp3" id="7_r0myw"]
[ext_resource type="AudioStream" uid="uid://cs5ls8u0p6c2c" path="res://assets/sound/monster_death.mp3" id="7_rx1i3"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_rk0bl"]
bg_color = Color(0.247059, 0.670588, 0.992157, 1)
corner_radius_top_left = 8
corner_radius_top_right = 8
corner_radius_bottom_right = 8
corner_radius_bottom_left = 8

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_ye7ee"]
corner_radius_top_left = 8
corner_radius_top_right = 8
corner_radius_bottom_right = 8
corner_radius_bottom_left = 8

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_ebyot"]
bg_color = Color(0, 0.807843, 0.364706, 1)
corner_radius_top_left = 8
corner_radius_top_right = 8
corner_radius_bottom_right = 8
corner_radius_bottom_left = 8

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_2qb8d"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_8lovd"]
bg_color = Color(0.917647, 0.839216, 0.682353, 0.596078)
corner_radius_top_left = 8
corner_radius_top_right = 8
corner_radius_bottom_right = 8
corner_radius_bottom_left = 8

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wsai3"]
size = Vector2(9393, 537)

[node name="World" type="Node2D"]
script = ExtResource("1_x62no")

[node name="Sprite2D2" type="Sprite2D" parent="."]
texture_repeat = 2
position = Vector2(-4025, -4380)
texture = ExtResource("2_0dn8h")
centered = false
region_enabled = true
region_rect = Rect2(2.08165e-12, 2.08165e-12, 10000, 10000)

[node name="Sprite2D" type="Sprite2D" parent="."]
visible = false
texture_repeat = 2
position = Vector2(-1017, -838)
texture = ExtResource("2_0dn8h")
centered = false
region_enabled = true
region_rect = Rect2(0, 0, 4000, 3000)

[node name="UI" type="CanvasLayer" parent="."]
script = ExtResource("3_2nbfl")
metadata/_edit_group_ = true

[node name="SCORE" type="Label" parent="UI"]
offset_left = 960.0
offset_top = 120.0
offset_right = 1129.0
offset_bottom = 240.0
theme_override_font_sizes/font_size = 50
text = "0"
horizontal_alignment = 1
vertical_alignment = 1

[node name="SCORE_text" type="Label" parent="UI"]
offset_left = 800.0
offset_top = 120.0
offset_right = 969.0
offset_bottom = 240.0
theme_override_font_sizes/font_size = 50
text = "Score"
horizontal_alignment = 1
vertical_alignment = 1

[node name="COLON" type="Label" parent="UI"]
offset_left = 900.0
offset_top = 20.0
offset_right = 1020.0
offset_bottom = 140.0
theme_override_font_sizes/font_size = 80
text = ":"
horizontal_alignment = 1

[node name="SECOND" type="Label" parent="UI"]
offset_left = 975.0
offset_top = 20.0
offset_right = 1095.0
offset_bottom = 140.0
theme_override_font_sizes/font_size = 80
text = "0"
horizontal_alignment = 1
vertical_alignment = 1

[node name="MINUTE" type="Label" parent="UI"]
offset_left = 825.0
offset_top = 20.0
offset_right = 945.0
offset_bottom = 140.0
theme_override_font_sizes/font_size = 80
text = "0"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Exp_bar" type="ProgressBar" parent="UI"]
offset_left = 160.0
offset_top = 130.0
offset_right = 560.0
offset_bottom = 170.0
theme_override_styles/fill = SubResource("StyleBoxFlat_rk0bl")
show_percentage = false

[node name="Hp_bar" type="ProgressBar" parent="UI"]
offset_left = 160.0
offset_top = 56.0
offset_right = 560.0
offset_bottom = 116.0
theme_override_styles/background = SubResource("StyleBoxFlat_ye7ee")
theme_override_styles/fill = SubResource("StyleBoxFlat_ebyot")
show_percentage = false

[node name="Shield_bar" type="ProgressBar" parent="UI"]
visible = false
offset_left = 160.0
offset_top = 56.0
offset_right = 560.0
offset_bottom = 116.0
theme_override_styles/background = SubResource("StyleBoxEmpty_2qb8d")
theme_override_styles/fill = SubResource("StyleBoxFlat_8lovd")
max_value = 5.0
show_percentage = false

[node name="ATK_text" type="Label" parent="UI"]
offset_left = 25.0
offset_top = 180.0
offset_right = 82.0
offset_bottom = 227.0
theme_override_font_sizes/font_size = 30
text = "ATK"
horizontal_alignment = 1
vertical_alignment = 1

[node name="ATK" type="Label" parent="UI"]
offset_left = 100.0
offset_top = 180.0
offset_right = 160.0
offset_bottom = 227.0
theme_override_font_sizes/font_size = 30
text = "0"
horizontal_alignment = 1
vertical_alignment = 1

[node name="SPD_text" type="Label" parent="UI"]
offset_left = 23.0
offset_top = 220.0
offset_right = 85.0
offset_bottom = 267.0
theme_override_font_sizes/font_size = 30
text = "SPD"
horizontal_alignment = 1
vertical_alignment = 1

[node name="SPD" type="Label" parent="UI"]
offset_left = 100.0
offset_top = 220.0
offset_right = 160.0
offset_bottom = 267.0
theme_override_font_sizes/font_size = 30
text = "0"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Lv_text" type="Label" parent="UI"]
offset_left = 310.0
offset_top = 126.0
offset_right = 350.0
offset_bottom = 173.0
theme_override_font_sizes/font_size = 30
text = "Lv"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Lv" type="Label" parent="UI"]
offset_left = 350.0
offset_top = 126.0
offset_right = 410.0
offset_bottom = 173.0
theme_override_font_sizes/font_size = 30
text = "0"
horizontal_alignment = 1
vertical_alignment = 1

[node name="HP_text" type="Label" parent="UI"]
offset_left = 236.0
offset_top = 55.0
offset_right = 309.0
offset_bottom = 117.0
theme_override_font_sizes/font_size = 40
text = "HP
"
horizontal_alignment = 1
vertical_alignment = 1

[node name="HP" type="Label" parent="UI"]
offset_left = 323.0
offset_top = 55.0
offset_right = 482.0
offset_bottom = 117.0
theme_override_font_sizes/font_size = 40
text = "100/100"
horizontal_alignment = 1
vertical_alignment = 1

[node name="portrait" type="Sprite2D" parent="UI"]
position = Vector2(88, 113)
scale = Vector2(0.22, 0.229)
texture = ExtResource("4_bo6rq")

[node name="Node2D" type="Node2D" parent="."]
position = Vector2(2.08165e-12, 2.08165e-12)
metadata/_edit_group_ = true

[node name="Sprite2D" type="Sprite2D" parent="Node2D"]
z_index = 1
scale = Vector2(0.1, 0.1)
texture = ExtResource("4_tu6ce")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(960, 540)
script = ExtResource("3_lcjqh")

[node name="Area2D" type="StaticBody2D" parent="."]
collision_layer = 16
collision_mask = 3

[node name="CollisionShape2D4" type="CollisionShape2D" parent="Area2D"]
position = Vector2(5008, 683)
rotation = 1.5708
shape = SubResource("RectangleShape2D_wsai3")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Area2D"]
position = Vector2(-3160, 707)
rotation = 1.5708
shape = SubResource("RectangleShape2D_wsai3")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Area2D"]
position = Vector2(953, 4817)
shape = SubResource("RectangleShape2D_wsai3")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D"]
position = Vector2(911, -3428)
shape = SubResource("RectangleShape2D_wsai3")

[node name="FireTimer" type="Timer" parent="."]
autostart = true

[node name="DamageTimer" type="Timer" parent="."]
autostart = true

[node name="Monster_Lv1_GenTimer" type="Timer" parent="."]

[node name="Monster_Lv2_GenTimer" type="Timer" parent="."]

[node name="PlayerShieldTimer" type="Timer" parent="."]
one_shot = true

[node name="GunSound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("6_8i1q1")
volume_db = -20.0

[node name="MonsterSound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("7_rx1i3")
volume_db = -5.0

[node name="HitSound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("7_r0myw")
volume_db = -10.0

[connection signal="timeout" from="FireTimer" to="." method="_on_fire_timer_timeout"]
[connection signal="timeout" from="DamageTimer" to="." method="_on_damage_timer_timeout"]
[connection signal="timeout" from="Monster_Lv1_GenTimer" to="." method="_on_monster_lv1_gen_timer_timeout"]
[connection signal="timeout" from="Monster_Lv2_GenTimer" to="." method="_on_monster_lv2_gen_timer_timeout"]
[connection signal="timeout" from="PlayerShieldTimer" to="." method="_on_player_shield_timer_timeout"]
